:root{
  --bg:#121212; --card:#1e1e1e; --text:#ffffff; --muted:#bdbdbd; --accent:#4caf50; --line:#2a2a2a;
}
*{box-sizing:border-box}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Arial;background:var(--bg);color:var(--text)}
.app{max-width:1100px;margin:0 auto;padding:16px}
header{display:flex;gap:12px;align-items:center;justify-content:space-between;margin-bottom:12px;flex-wrap:wrap}
.title{font-weight:700;font-size:20px}
.search{flex:1;min-width:260px;max-width:520px;display:flex;gap:8px;align-items:center;background:var(--card);border:1px solid var(--line);border-radius:12px;padding:8px 10px}
.search input{flex:1;border:0;outline:0;background:transparent;color:var(--text);font-size:14px}
.btn{border:0;border-radius:10px;background:var(--accent);color:#fff;font-weight:700;padding:10px 12px;cursor:pointer;display:inline-flex;align-items:center;gap:8px}
.btn.ghost{background:#2a2a2a}
.btn.warn{background:#d32f2f}
.btn.small{padding:6px 9px;font-weight:600}
.toolbar{display:flex;gap:8px;flex-wrap:wrap}

.grid{display:grid;gap:14px;grid-template-columns:1fr}
@media(min-width:960px){ .grid{grid-template-columns:340px 1fr} }

.panel{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:12px}
.tagbar{display:flex;gap:8px;flex-wrap:wrap;margin:8px 0 10px}
.chip{padding:6px 10px;border-radius:999px;background:#2a2a2a;border:1px solid var(--line);font-size:12px;cursor:pointer}
.chip.active{background:var(--accent)}
.list{display:flex;flex-direction:column;gap:10px;max-height:72vh;overflow:auto}
.card{display:flex;gap:10px;background:#171717;border:1px solid var(--line);border-radius:12px;padding:10px;cursor:pointer}
.thumb{width:64px;height:64px;border-radius:10px;object-fit:cover;background:#0f0f0f;border:1px solid #222}
.meta{display:flex;flex-direction:column;gap:4px}
.meta .name{font-weight:700}
.meta .sub{color:var(--muted);font-size:12px}

.detail{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:12px;min-height:260px}
.hero{display:flex;gap:14px;flex-wrap:wrap;align-items:center}
.hero img{width:120px;height:120px;border-radius:14px;object-fit:cover;background:#101010;border:1px solid #222}
.h1{font-size:20px;font-weight:800;margin:0 0 6px}
.muted{color:var(--muted);font-size:13px}
.kvs{display:flex;gap:12px;flex-wrap:wrap;margin-top:6px}
.kv{background:#171717;border:1px solid var(--line);border-radius:10px;padding:6px 10px;font-size:12px}
.section{margin-top:14px}
.section h3{margin:0 0 8px;font-size:14px;font-weight:800}
.inglist,.steplist{display:flex;flex-direction:column;gap:8px}
.ing{display:flex;align-items:flex-start;gap:10px;background:#161616;border:1px solid #262626;border-radius:10px;padding:8px}
.step{display:flex;gap:8px;background:#161616;border:1px solid #262626;border-radius:10px;padding:10px}
.num{min-width:26px;height:26px;border-radius:7px;background:#2a2a2a;display:flex;align-items:center;justify-content:center;font-weight:800}
.empty{display:grid;place-items:center;min-height:240px;color:var(--muted);text-align:center}

.modal{position:fixed;inset:0;display:none;align-items:flex-end;justify-content:center;background:rgba(0,0,0,.5);z-index:9999}
.modal.open{display:flex}
.sheet{background:var(--card);border-top-left-radius:16px;border-top-right-radius:16px;border:1px solid var(--line);width:100%;max-width:720px;padding:14px}
@media(min-width:740px){ .sheet{border-radius:16px;margin:40px;max-height:80vh;overflow:auto} .modal{align-items:center} }
.row{display:flex;gap:10px;flex-wrap:wrap}
.field{flex:1;min-width:200px;display:flex;flex-direction:column;gap:6px}
label{font-size:12px;color:var(--muted)}
input[type="text"],input[type="number"],input[type="file"],textarea{background:#141414;border:1px solid var(--line);color:var(--text);border-radius:10px;padding:10px;font-size:14px;outline:none}
textarea{min-height:90px;resize:vertical}

.preview{width:100%;max-height:200px;object-fit:cover;border-radius:12px;border:1px solid #222;background:#0f0f0f}

.diag{position:fixed;right:10px;bottom:10px;background:#2a2a2a;border:1px solid #333;color:#ddd;border-radius:20px;padding:6px 10px;font-size:12px;z-index:10000}
.diag.good{background:#1b5e20}
.diag.bad{background:#8e0000}
